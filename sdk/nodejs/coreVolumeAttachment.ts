// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import { input as inputs, output as outputs } from "./types";
import * as utilities from "./utilities";

/**
 * This resource provides the Volume Attachment resource in Oracle Cloud Infrastructure Core service.
 *
 * Attaches the specified storage volume to the specified instance.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as oci from "@pulumi/oci";
 *
 * const testVolumeAttachment = new oci.CoreVolumeAttachment("testVolumeAttachment", {
 *     attachmentType: _var.volume_attachment_attachment_type,
 *     instanceId: oci_core_instance.test_instance.id,
 *     volumeId: oci_core_volume.test_volume.id,
 *     device: _var.volume_attachment_device,
 *     displayName: _var.volume_attachment_display_name,
 *     encryptionInTransitType: _var.volume_attachment_encryption_in_transit_type,
 *     isPvEncryptionInTransitEnabled: _var.volume_attachment_is_pv_encryption_in_transit_enabled,
 *     isReadOnly: _var.volume_attachment_is_read_only,
 *     isShareable: _var.volume_attachment_is_shareable,
 *     useChap: _var.volume_attachment_use_chap,
 * });
 * ```
 *
 * ## Import
 *
 * VolumeAttachments can be imported using the `id`, e.g.
 *
 * ```sh
 *  $ pulumi import oci:index/coreVolumeAttachment:CoreVolumeAttachment test_volume_attachment "id"
 * ```
 */
export class CoreVolumeAttachment extends pulumi.CustomResource {
    /**
     * Get an existing CoreVolumeAttachment resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: CoreVolumeAttachmentState, opts?: pulumi.CustomResourceOptions): CoreVolumeAttachment {
        return new CoreVolumeAttachment(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'oci:index/coreVolumeAttachment:CoreVolumeAttachment';

    /**
     * Returns true if the given object is an instance of CoreVolumeAttachment.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is CoreVolumeAttachment {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === CoreVolumeAttachment.__pulumiType;
    }

    /**
     * The type of volume. The only supported values are "iscsi" and "paravirtualized".
     */
    public readonly attachmentType!: pulumi.Output<string>;
    /**
     * The availability domain of an instance.  Example: `Uocm:PHX-AD-1`
     */
    public /*out*/ readonly availabilityDomain!: pulumi.Output<string>;
    /**
     * The Challenge-Handshake-Authentication-Protocol (CHAP) secret valid for the associated CHAP user name. (Also called the "CHAP password".)
     */
    public /*out*/ readonly chapSecret!: pulumi.Output<string>;
    /**
     * The volume's system-generated Challenge-Handshake-Authentication-Protocol (CHAP) user name. See [RFC 1994](https://tools.ietf.org/html/rfc1994) for more on CHAP.  Example: `ocid1.volume.oc1.phx.<unique_ID>`
     */
    public /*out*/ readonly chapUsername!: pulumi.Output<string>;
    /**
     * The OCID of the compartment.
     *
     * @deprecated The 'compartment_id' field has been deprecated and may be removed in a future version. Do not use this field.
     */
    public readonly compartmentId!: pulumi.Output<string>;
    /**
     * The device name.
     */
    public readonly device!: pulumi.Output<string>;
    /**
     * A user-friendly name. Does not have to be unique, and it cannot be changed. Avoid entering confidential information.
     */
    public readonly displayName!: pulumi.Output<string>;
    /**
     * Refer the top-level definition of encryptionInTransitType. The default value is NONE.
     */
    public readonly encryptionInTransitType!: pulumi.Output<string>;
    /**
     * The OCID of the instance.
     */
    public readonly instanceId!: pulumi.Output<string>;
    /**
     * The volume's iSCSI IP address.  Example: `169.254.2.2`
     */
    public /*out*/ readonly ipv4!: pulumi.Output<string>;
    /**
     * The target volume's iSCSI Qualified Name in the format defined by [RFC 3720](https://tools.ietf.org/html/rfc3720#page-32).  Example: `iqn.2015-12.com.oracleiaas:40b7ee03-883f-46c6-a951-63d2841d2195`
     */
    public /*out*/ readonly iqn!: pulumi.Output<string>;
    /**
     * Whether the attachment is multipath or not.
     */
    public /*out*/ readonly isMultipath!: pulumi.Output<boolean>;
    /**
     * Whether to enable in-transit encryption for the data volume's paravirtualized attachment. The default value is false.
     */
    public readonly isPvEncryptionInTransitEnabled!: pulumi.Output<boolean>;
    /**
     * Whether the attachment was created in read-only mode.
     */
    public readonly isReadOnly!: pulumi.Output<boolean>;
    /**
     * Whether the attachment should be created in shareable mode. If an attachment is created in shareable mode, then other instances can attach the same volume, provided that they also create their attachments in shareable mode. Only certain volume types can be attached in shareable mode. Defaults to false if not specified.
     */
    public readonly isShareable!: pulumi.Output<boolean>;
    /**
     * The iscsi login state of the volume attachment. For a multipath volume attachment, all iscsi sessions need to be all logged-in or logged-out to be in logged-in or logged-out state.
     */
    public /*out*/ readonly iscsiLoginState!: pulumi.Output<string>;
    /**
     * A list of secondary multipath devices
     */
    public /*out*/ readonly multipathDevices!: pulumi.Output<outputs.CoreVolumeAttachmentMultipathDevice[]>;
    /**
     * The volume's iSCSI port, usually port 860 or 3260.  Example: `3260`
     */
    public /*out*/ readonly port!: pulumi.Output<number>;
    /**
     * The current state of the volume attachment.
     */
    public /*out*/ readonly state!: pulumi.Output<string>;
    /**
     * The date and time the volume was created, in the format defined by [RFC3339](https://tools.ietf.org/html/rfc3339).  Example: `2016-08-25T21:10:29.600Z`
     */
    public /*out*/ readonly timeCreated!: pulumi.Output<string>;
    /**
     * Whether to use CHAP authentication for the volume attachment. Defaults to false.
     */
    public readonly useChap!: pulumi.Output<boolean>;
    /**
     * The OCID of the volume.
     */
    public readonly volumeId!: pulumi.Output<string>;

    /**
     * Create a CoreVolumeAttachment resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: CoreVolumeAttachmentArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: CoreVolumeAttachmentArgs | CoreVolumeAttachmentState, opts?: pulumi.CustomResourceOptions) {
        let inputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as CoreVolumeAttachmentState | undefined;
            inputs["attachmentType"] = state ? state.attachmentType : undefined;
            inputs["availabilityDomain"] = state ? state.availabilityDomain : undefined;
            inputs["chapSecret"] = state ? state.chapSecret : undefined;
            inputs["chapUsername"] = state ? state.chapUsername : undefined;
            inputs["compartmentId"] = state ? state.compartmentId : undefined;
            inputs["device"] = state ? state.device : undefined;
            inputs["displayName"] = state ? state.displayName : undefined;
            inputs["encryptionInTransitType"] = state ? state.encryptionInTransitType : undefined;
            inputs["instanceId"] = state ? state.instanceId : undefined;
            inputs["ipv4"] = state ? state.ipv4 : undefined;
            inputs["iqn"] = state ? state.iqn : undefined;
            inputs["isMultipath"] = state ? state.isMultipath : undefined;
            inputs["isPvEncryptionInTransitEnabled"] = state ? state.isPvEncryptionInTransitEnabled : undefined;
            inputs["isReadOnly"] = state ? state.isReadOnly : undefined;
            inputs["isShareable"] = state ? state.isShareable : undefined;
            inputs["iscsiLoginState"] = state ? state.iscsiLoginState : undefined;
            inputs["multipathDevices"] = state ? state.multipathDevices : undefined;
            inputs["port"] = state ? state.port : undefined;
            inputs["state"] = state ? state.state : undefined;
            inputs["timeCreated"] = state ? state.timeCreated : undefined;
            inputs["useChap"] = state ? state.useChap : undefined;
            inputs["volumeId"] = state ? state.volumeId : undefined;
        } else {
            const args = argsOrState as CoreVolumeAttachmentArgs | undefined;
            if ((!args || args.attachmentType === undefined) && !opts.urn) {
                throw new Error("Missing required property 'attachmentType'");
            }
            if ((!args || args.instanceId === undefined) && !opts.urn) {
                throw new Error("Missing required property 'instanceId'");
            }
            if ((!args || args.volumeId === undefined) && !opts.urn) {
                throw new Error("Missing required property 'volumeId'");
            }
            inputs["attachmentType"] = args ? args.attachmentType : undefined;
            inputs["compartmentId"] = args ? args.compartmentId : undefined;
            inputs["device"] = args ? args.device : undefined;
            inputs["displayName"] = args ? args.displayName : undefined;
            inputs["encryptionInTransitType"] = args ? args.encryptionInTransitType : undefined;
            inputs["instanceId"] = args ? args.instanceId : undefined;
            inputs["isPvEncryptionInTransitEnabled"] = args ? args.isPvEncryptionInTransitEnabled : undefined;
            inputs["isReadOnly"] = args ? args.isReadOnly : undefined;
            inputs["isShareable"] = args ? args.isShareable : undefined;
            inputs["useChap"] = args ? args.useChap : undefined;
            inputs["volumeId"] = args ? args.volumeId : undefined;
            inputs["availabilityDomain"] = undefined /*out*/;
            inputs["chapSecret"] = undefined /*out*/;
            inputs["chapUsername"] = undefined /*out*/;
            inputs["ipv4"] = undefined /*out*/;
            inputs["iqn"] = undefined /*out*/;
            inputs["isMultipath"] = undefined /*out*/;
            inputs["iscsiLoginState"] = undefined /*out*/;
            inputs["multipathDevices"] = undefined /*out*/;
            inputs["port"] = undefined /*out*/;
            inputs["state"] = undefined /*out*/;
            inputs["timeCreated"] = undefined /*out*/;
        }
        if (!opts.version) {
            opts = pulumi.mergeOptions(opts, { version: utilities.getVersion()});
        }
        super(CoreVolumeAttachment.__pulumiType, name, inputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering CoreVolumeAttachment resources.
 */
export interface CoreVolumeAttachmentState {
    /**
     * The type of volume. The only supported values are "iscsi" and "paravirtualized".
     */
    attachmentType?: pulumi.Input<string>;
    /**
     * The availability domain of an instance.  Example: `Uocm:PHX-AD-1`
     */
    availabilityDomain?: pulumi.Input<string>;
    /**
     * The Challenge-Handshake-Authentication-Protocol (CHAP) secret valid for the associated CHAP user name. (Also called the "CHAP password".)
     */
    chapSecret?: pulumi.Input<string>;
    /**
     * The volume's system-generated Challenge-Handshake-Authentication-Protocol (CHAP) user name. See [RFC 1994](https://tools.ietf.org/html/rfc1994) for more on CHAP.  Example: `ocid1.volume.oc1.phx.<unique_ID>`
     */
    chapUsername?: pulumi.Input<string>;
    /**
     * The OCID of the compartment.
     *
     * @deprecated The 'compartment_id' field has been deprecated and may be removed in a future version. Do not use this field.
     */
    compartmentId?: pulumi.Input<string>;
    /**
     * The device name.
     */
    device?: pulumi.Input<string>;
    /**
     * A user-friendly name. Does not have to be unique, and it cannot be changed. Avoid entering confidential information.
     */
    displayName?: pulumi.Input<string>;
    /**
     * Refer the top-level definition of encryptionInTransitType. The default value is NONE.
     */
    encryptionInTransitType?: pulumi.Input<string>;
    /**
     * The OCID of the instance.
     */
    instanceId?: pulumi.Input<string>;
    /**
     * The volume's iSCSI IP address.  Example: `169.254.2.2`
     */
    ipv4?: pulumi.Input<string>;
    /**
     * The target volume's iSCSI Qualified Name in the format defined by [RFC 3720](https://tools.ietf.org/html/rfc3720#page-32).  Example: `iqn.2015-12.com.oracleiaas:40b7ee03-883f-46c6-a951-63d2841d2195`
     */
    iqn?: pulumi.Input<string>;
    /**
     * Whether the attachment is multipath or not.
     */
    isMultipath?: pulumi.Input<boolean>;
    /**
     * Whether to enable in-transit encryption for the data volume's paravirtualized attachment. The default value is false.
     */
    isPvEncryptionInTransitEnabled?: pulumi.Input<boolean>;
    /**
     * Whether the attachment was created in read-only mode.
     */
    isReadOnly?: pulumi.Input<boolean>;
    /**
     * Whether the attachment should be created in shareable mode. If an attachment is created in shareable mode, then other instances can attach the same volume, provided that they also create their attachments in shareable mode. Only certain volume types can be attached in shareable mode. Defaults to false if not specified.
     */
    isShareable?: pulumi.Input<boolean>;
    /**
     * The iscsi login state of the volume attachment. For a multipath volume attachment, all iscsi sessions need to be all logged-in or logged-out to be in logged-in or logged-out state.
     */
    iscsiLoginState?: pulumi.Input<string>;
    /**
     * A list of secondary multipath devices
     */
    multipathDevices?: pulumi.Input<pulumi.Input<inputs.CoreVolumeAttachmentMultipathDevice>[]>;
    /**
     * The volume's iSCSI port, usually port 860 or 3260.  Example: `3260`
     */
    port?: pulumi.Input<number>;
    /**
     * The current state of the volume attachment.
     */
    state?: pulumi.Input<string>;
    /**
     * The date and time the volume was created, in the format defined by [RFC3339](https://tools.ietf.org/html/rfc3339).  Example: `2016-08-25T21:10:29.600Z`
     */
    timeCreated?: pulumi.Input<string>;
    /**
     * Whether to use CHAP authentication for the volume attachment. Defaults to false.
     */
    useChap?: pulumi.Input<boolean>;
    /**
     * The OCID of the volume.
     */
    volumeId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a CoreVolumeAttachment resource.
 */
export interface CoreVolumeAttachmentArgs {
    /**
     * The type of volume. The only supported values are "iscsi" and "paravirtualized".
     */
    attachmentType: pulumi.Input<string>;
    /**
     * The OCID of the compartment.
     *
     * @deprecated The 'compartment_id' field has been deprecated and may be removed in a future version. Do not use this field.
     */
    compartmentId?: pulumi.Input<string>;
    /**
     * The device name.
     */
    device?: pulumi.Input<string>;
    /**
     * A user-friendly name. Does not have to be unique, and it cannot be changed. Avoid entering confidential information.
     */
    displayName?: pulumi.Input<string>;
    /**
     * Refer the top-level definition of encryptionInTransitType. The default value is NONE.
     */
    encryptionInTransitType?: pulumi.Input<string>;
    /**
     * The OCID of the instance.
     */
    instanceId: pulumi.Input<string>;
    /**
     * Whether to enable in-transit encryption for the data volume's paravirtualized attachment. The default value is false.
     */
    isPvEncryptionInTransitEnabled?: pulumi.Input<boolean>;
    /**
     * Whether the attachment was created in read-only mode.
     */
    isReadOnly?: pulumi.Input<boolean>;
    /**
     * Whether the attachment should be created in shareable mode. If an attachment is created in shareable mode, then other instances can attach the same volume, provided that they also create their attachments in shareable mode. Only certain volume types can be attached in shareable mode. Defaults to false if not specified.
     */
    isShareable?: pulumi.Input<boolean>;
    /**
     * Whether to use CHAP authentication for the volume attachment. Defaults to false.
     */
    useChap?: pulumi.Input<boolean>;
    /**
     * The OCID of the volume.
     */
    volumeId: pulumi.Input<string>;
}
